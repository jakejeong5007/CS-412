{% extends "restaurant/base.html" %}

{% block title %}Order{% endblock %}

{% block content %}
  <section class="card">
    <h2>Place Your Order</h2>
    <p class="muted">Select items below. Prices are shown per item.</p>

    <form method="post" action="{% url 'restaurant:confirmation' %}">
      {% csrf_token %}

      <fieldset class="fieldset">
        <legend>Daily Special</legend>

        <label class="check-row">
          <input type="checkbox" name="daily_special" value="1">
          <span>
            <strong>{{ daily_special.name }}</strong>
            <span class="price">${{ daily_special.price }}</span>
          </span>
        </label>

        <input type="hidden" name="daily_special_name" value="{{ daily_special.name }}">
        <input type="hidden" name="daily_special_price" value="{{ daily_special.price }}">
      </fieldset>
      
      <fieldset class="fieldset">
        <legend>Menu</legend>

        <label class="check-row">
          <input type="checkbox" name="item1" value="1">
          <span>
            <strong>Tteokbokki</strong>
            <span class="price">$7.50</span>
            <span class="desc">Spicy rice cakes in gochujang sauce.</span>
          </span>
        </label>

        <label class="check-row">
          <input type="checkbox" name="item2" value="1">
          <span>
            <strong>Kimbap</strong>
            <span class="price">$5.25</span>
            <span class="desc">Seaweed rice roll with veggies.</span>
          </span>
        </label>

        <label class="check-row">
          <input type="checkbox" name="item3" value="1">
          <span>
            <strong>Fried Dumplings</strong>
            <span class="price">$6.75</span>
            <span class="desc">Crispy dumplings with dipping sauce.</span>
          </span>
        </label>

        <!-- Item with options -->
        <div class="option-block">
          <label class="check-row">
            <input type="checkbox" name="item4" value="1">
            <span>
              <strong>Bubble Tea</strong>
              <span class="price">$4.99</span>
              <span class="desc">Choose your flavor + boba option.</span>
            </span>
          </label>

          <div class="options">
            <div class="form-row">
              <label for="tea_flavor">Flavor</label>
              <select id="tea_flavor" name="tea_flavor">
                <option value="Milk Tea">Milk Tea</option>
                <option value="Taro">Taro</option>
                <option value="Matcha">Matcha</option>
                <option value="Mango">Mango</option>
              </select>
            </div>

            <div class="form-row">
              <label for="boba">Extras</label>
              <select id="boba" name="boba">
                <option value="Classic Boba">Classic Boba</option>
                <option value="Pudding">Pudding</option>
                <option value="Jelly">Jelly</option>
                <option value="No Extras">No Extras</option>
              </select>
            </div>
          </div>
        </div>
      </fieldset>

      <!-- Customer info -->
      <fieldset class="fieldset">
        <legend>Customer Info</legend>

        <div class="form-grid">
          <div class="form-row">
            <label for="name">Name</label>
            <input id="name" name="name" type="text" required>
          </div>

          <div class="form-row">
            <label for="phone">Phone</label>
            <input id="phone" name="phone" type="tel" placeholder="(###) ###-####" required>
          </div>

          <div class="form-row">
            <label for="email">Email</label>
            <input id="email" name="email" type="email" required>
          </div>
        </div>

        <div class="form-row">
          <label for="instructions">Special Instructions</label>
          <textarea id="instructions" name="instructions" rows="4"
            placeholder="Allergies, spice level, delivery notes..."></textarea>
        </div>
      </fieldset>

      <div class="actions">
        <button class="btn" type="submit">Submit Order</button>
        <a class="btn secondary" href="{% url 'restaurant:main_page' %}">Cancel</a>
      </div>
    </form>
  </section>
{% endblock %}
